<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />


<meta name="author" content="Noah Pollock" />

<meta name="date" content="2018-12-05" />

<title>Language Wars One: Monty Hall</title>

<script src="site_libs/header-attrs-2.29/header-attrs.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/flatly.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/font-awesome-6.5.2/css/all.min.css" rel="stylesheet" />
<link href="site_libs/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet" />
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-122098274-2"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-122098274-2');
</script>

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>



<style type="text/css">
  code {
    white-space: pre;
  }
  .sourceCode {
    overflow: visible;
  }
</style>
<style type="text/css" data-origin="pandoc">
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  { color: #cccccc; background-color: #303030; }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ffcfaf; } /* Alert */
code span.an { color: #7f9f7f; font-weight: bold; } /* Annotation */
code span.at { } /* Attribute */
code span.bn { color: #dca3a3; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #f0dfaf; } /* ControlFlow */
code span.ch { color: #dca3a3; } /* Char */
code span.cn { color: #dca3a3; font-weight: bold; } /* Constant */
code span.co { color: #7f9f7f; } /* Comment */
code span.cv { color: #7f9f7f; font-weight: bold; } /* CommentVar */
code span.do { color: #7f9f7f; } /* Documentation */
code span.dt { color: #dfdfbf; } /* DataType */
code span.dv { color: #dcdccc; } /* DecVal */
code span.er { color: #c3bf9f; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #c0bed1; } /* Float */
code span.fu { color: #efef8f; } /* Function */
code span.im { } /* Import */
code span.in { color: #7f9f7f; font-weight: bold; } /* Information */
code span.kw { color: #f0dfaf; } /* Keyword */
code span.op { color: #f0efd0; } /* Operator */
code span.ot { color: #efef8f; } /* Other */
code span.pp { color: #ffcfaf; font-weight: bold; } /* Preprocessor */
code span.sc { color: #dca3a3; } /* SpecialChar */
code span.ss { color: #cc9393; } /* SpecialString */
code span.st { color: #cc9393; } /* String */
code span.va { } /* Variable */
code span.vs { color: #cc9393; } /* VerbatimString */
code span.wa { color: #7f9f7f; font-weight: bold; } /* Warning */

</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    var j = 0;
    while (j < rules.length) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") {
        j++;
        continue;
      }
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') {
        j++;
        continue;
      }
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>




<link rel="stylesheet" href="my_style.css" type="text/css" />



<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
details > summary > p:only-child {
  display: inline;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark the anchor link active (and if it's in a dropdown, also mark that active)
  var dropdown = menuAnchor.closest('li.dropdown');
  if (window.bootstrap) { // Bootstrap 4+
    menuAnchor.addClass('active');
    dropdown.find('> .dropdown-toggle').addClass('active');
  } else { // Bootstrap 3
    menuAnchor.parent().addClass('active');
    dropdown.addClass('active');
  }

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before, .tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "\e259";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "\e258";
  font-family: 'Glyphicons Halflings';
  border: none;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->




</head>

<body>


<div class="container-fluid main-container">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-bs-toggle="collapse" data-target="#navbar" data-bs-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Noah C. Pollock</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">
    <span class="fa fa-home"></span>
     
    Home
  </a>
</li>
<li>
  <a href="about_me.html">
    <span class="fa fa-info-circle"></span>
     
    About Me
  </a>
</li>
<li>
  <a href="blog.html">
    <span class="fa fa-street-view"></span>
     
    Blog
  </a>
</li>
<li>
  <a href="projects.html">
    <span class="fa fa-gear"></span>
     
    Projects
  </a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="resources.html">
    <span class="fa fa-key"></span>
     
    Resources
  </a>
</li>
<li>
  <a href="https://www.linkedin.com/in/noah-pollock-5b5804157/">
    <span class="fa fa-linkedin"></span>
     
  </a>
</li>
<li>
  <a href="https://github.com/ncpollock/">
    <span class="fa fa-github"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">



<h1 class="title toc-ignore">Language Wars One: Monty Hall</h1>
<h4 class="author">Noah Pollock</h4>
<h4 class="date">December 5, 2018</h4>

</div>


<div id="scope" class="section level2">
<h2>Scope</h2>
<p>Use Python and R separately to solve the same problem.</p>
</div>
<div id="introduction-and-prerequisites" class="section level2">
<h2>Introduction and Prerequisites</h2>
<p>This is the first post in a series of posts that will pit R against
Python. I hope that this series will eventually add fuel to the fire of
the language wars. Of course, In reality, I understand that there’s no
one language to rule them all. Specific use-cases, personal tastes, and
performance differences wax and wane within and between languages, but
the R vs Python debate is a lot of fun to ignite.</p>
<p>For this first post, we will compare the two languages on how they
handle simulating the classic Monty Hall problem. In case you’re
unfamiliar with the problem, you are given the choice between three
doors and behind one of them is a prize. One of the doors you didn’t
pick is opened and you are asked whether you would like to keep your
selection or choose the other unopened door. Does it matter whether your
switch or stay? What is the probability that the prize is behind your
door vs the other door?</p>
<p><strong>Disclaimer:</strong> I hardly know Python, in fact, we just
recently became acquainted. So, I’ll rely almost exclusively on other
people’s Python solution(s) to a problem. I’ll then try to do better, or
at least as good, in R. Naturally, my python selections may reflect
poorly written Python, but surely it’s better than me writing the Python
myself?</p>
</div>
<div class="panel-body">
<div class="col-md-6">
<div id="python-solution" class="section level2">
<h2>Python Solution</h2>
<div class="sourceCode" id="cb1"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a><span class="im">import</span> timeit, functools</span>
<span id="cb1-3"><a href="#cb1-3" tabindex="-1"></a>simulations <span class="op">=</span> <span class="dv">10000</span></span></code></pre></div>
<div class="sourceCode" id="cb2"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a><span class="kw">def</span> simulate_prizedoor(nsim):</span>
<span id="cb2-2"><a href="#cb2-2" tabindex="-1"></a>    <span class="co">#compute here</span></span>
<span id="cb2-3"><a href="#cb2-3" tabindex="-1"></a>    answer <span class="op">=</span> np.random.randint(<span class="dv">3</span>,size<span class="op">=</span>nsim)</span>
<span id="cb2-4"><a href="#cb2-4" tabindex="-1"></a>    <span class="cf">return</span> answer</span>
<span id="cb2-5"><a href="#cb2-5" tabindex="-1"></a></span>
<span id="cb2-6"><a href="#cb2-6" tabindex="-1"></a><span class="kw">def</span> simulate_guess(nsim):</span>
<span id="cb2-7"><a href="#cb2-7" tabindex="-1"></a></span>
<span id="cb2-8"><a href="#cb2-8" tabindex="-1"></a>    <span class="co">#compute here</span></span>
<span id="cb2-9"><a href="#cb2-9" tabindex="-1"></a>    guess <span class="op">=</span> np.random.randint(<span class="dv">3</span>,size<span class="op">=</span>nsim)</span>
<span id="cb2-10"><a href="#cb2-10" tabindex="-1"></a>    <span class="cf">return</span> guess</span>
<span id="cb2-11"><a href="#cb2-11" tabindex="-1"></a>    </span>
<span id="cb2-12"><a href="#cb2-12" tabindex="-1"></a><span class="kw">def</span> goat_door(prizedoors,guesses):</span>
<span id="cb2-13"><a href="#cb2-13" tabindex="-1"></a></span>
<span id="cb2-14"><a href="#cb2-14" tabindex="-1"></a>    nsims <span class="op">=</span> <span class="bu">len</span>(prizedoors)</span>
<span id="cb2-15"><a href="#cb2-15" tabindex="-1"></a>    goat <span class="op">=</span> np.zeros(nsims, dtype<span class="op">=</span><span class="bu">int</span>)</span>
<span id="cb2-16"><a href="#cb2-16" tabindex="-1"></a>    <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(nsims):</span>
<span id="cb2-17"><a href="#cb2-17" tabindex="-1"></a>        possible_goats <span class="op">=</span> [d <span class="cf">for</span> d <span class="kw">in</span> [<span class="dv">0</span>,<span class="dv">1</span>,<span class="dv">2</span>] <span class="cf">if</span> prizedoors[i] <span class="op">!=</span> d <span class="kw">and</span> guesses[i] <span class="op">!=</span> d]</span>
<span id="cb2-18"><a href="#cb2-18" tabindex="-1"></a>        goat[i] <span class="op">=</span> np.random.choice(possible_goats)</span>
<span id="cb2-19"><a href="#cb2-19" tabindex="-1"></a>    <span class="cf">return</span> goat</span>
<span id="cb2-20"><a href="#cb2-20" tabindex="-1"></a></span>
<span id="cb2-21"><a href="#cb2-21" tabindex="-1"></a><span class="kw">def</span> switch_guess(guesses, goatdoors):</span>
<span id="cb2-22"><a href="#cb2-22" tabindex="-1"></a>  </span>
<span id="cb2-23"><a href="#cb2-23" tabindex="-1"></a>    nsims <span class="op">=</span> <span class="bu">len</span>(guesses)</span>
<span id="cb2-24"><a href="#cb2-24" tabindex="-1"></a>    choice <span class="op">=</span> np.zeros(nsims, dtype<span class="op">=</span><span class="bu">int</span>)</span>
<span id="cb2-25"><a href="#cb2-25" tabindex="-1"></a>    <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(nsims):</span>
<span id="cb2-26"><a href="#cb2-26" tabindex="-1"></a>        choice[i] <span class="op">=</span> <span class="dv">3</span> <span class="op">-</span> (guesses[i] <span class="op">+</span> goatdoors[i])</span>
<span id="cb2-27"><a href="#cb2-27" tabindex="-1"></a>    </span>
<span id="cb2-28"><a href="#cb2-28" tabindex="-1"></a>    <span class="cf">return</span> choice</span>
<span id="cb2-29"><a href="#cb2-29" tabindex="-1"></a></span>
<span id="cb2-30"><a href="#cb2-30" tabindex="-1"></a><span class="co">#your code here</span></span>
<span id="cb2-31"><a href="#cb2-31" tabindex="-1"></a><span class="kw">def</span> win_percentage(guesses, prizedoors):</span>
<span id="cb2-32"><a href="#cb2-32" tabindex="-1"></a>    nsim <span class="op">=</span> <span class="bu">len</span>(prizedoors)</span>
<span id="cb2-33"><a href="#cb2-33" tabindex="-1"></a>    nwin <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb2-34"><a href="#cb2-34" tabindex="-1"></a>    </span>
<span id="cb2-35"><a href="#cb2-35" tabindex="-1"></a>    <span class="co"># Pythonic way</span></span>
<span id="cb2-36"><a href="#cb2-36" tabindex="-1"></a>    nwin <span class="op">=</span> <span class="bu">sum</span>(guesses <span class="op">==</span> prizedoors)</span>
<span id="cb2-37"><a href="#cb2-37" tabindex="-1"></a>            </span>
<span id="cb2-38"><a href="#cb2-38" tabindex="-1"></a>    <span class="cf">return</span> <span class="fl">100.0</span> <span class="op">*</span> (nwin<span class="op">/</span>nsim)</span>
<span id="cb2-39"><a href="#cb2-39" tabindex="-1"></a></span>
<span id="cb2-40"><a href="#cb2-40" tabindex="-1"></a><span class="kw">def</span> switch_vs_stay(nsim):</span>
<span id="cb2-41"><a href="#cb2-41" tabindex="-1"></a>    </span>
<span id="cb2-42"><a href="#cb2-42" tabindex="-1"></a>    prizes <span class="op">=</span> simulate_prizedoor(nsim)</span>
<span id="cb2-43"><a href="#cb2-43" tabindex="-1"></a>    guesses <span class="op">=</span> simulate_guess(nsim)</span>
<span id="cb2-44"><a href="#cb2-44" tabindex="-1"></a>    goats <span class="op">=</span> goat_door(prizes, guesses)    </span>
<span id="cb2-45"><a href="#cb2-45" tabindex="-1"></a>    switch_choice <span class="op">=</span> switch_guess(guesses,goats)</span>
<span id="cb2-46"><a href="#cb2-46" tabindex="-1"></a>    </span>
<span id="cb2-47"><a href="#cb2-47" tabindex="-1"></a>    winpct_switch <span class="op">=</span> win_percentage(switch_choice, prizes)</span>
<span id="cb2-48"><a href="#cb2-48" tabindex="-1"></a>    winpct_stay <span class="op">=</span> win_percentage(guesses, prizes)</span>
<span id="cb2-49"><a href="#cb2-49" tabindex="-1"></a>    </span>
<span id="cb2-50"><a href="#cb2-50" tabindex="-1"></a>    <span class="cf">return</span> [winpct_switch, winpct_stay]</span>
<span id="cb2-51"><a href="#cb2-51" tabindex="-1"></a>    </span>
<span id="cb2-52"><a href="#cb2-52" tabindex="-1"></a>results <span class="op">=</span> switch_vs_stay(simulations)</span>
<span id="cb2-53"><a href="#cb2-53" tabindex="-1"></a><span class="bu">print</span>(results)</span></code></pre></div>
<pre><code>## [np.float64(66.61), np.float64(33.39)]</code></pre>
</div>
<div id="inspect-python-functions" class="section level2">
<h2>Inspect Python Functions</h2>
<p>See below whether the output is as expected from select
functions.</p>
<div class="sourceCode" id="cb4"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a>prizes <span class="op">=</span> simulate_prizedoor(<span class="dv">10</span>)</span>
<span id="cb4-2"><a href="#cb4-2" tabindex="-1"></a>guesses <span class="op">=</span> simulate_guess(<span class="dv">10</span>)</span>
<span id="cb4-3"><a href="#cb4-3" tabindex="-1"></a>goats <span class="op">=</span> goat_door(prizes,guesses)</span>
<span id="cb4-4"><a href="#cb4-4" tabindex="-1"></a>switch <span class="op">=</span> switch_guess(prizes,goats)</span>
<span id="cb4-5"><a href="#cb4-5" tabindex="-1"></a><span class="bu">print</span> (<span class="st">&quot;prizes  = &quot;</span>, prizes)</span></code></pre></div>
<pre><code>## prizes  =  [0 1 1 0 2 0 0 1 2 2]</code></pre>
<div class="sourceCode" id="cb6"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" tabindex="-1"></a><span class="bu">print</span> (<span class="st">&quot;guesses = &quot;</span>, guesses)</span></code></pre></div>
<pre><code>## guesses =  [1 2 0 2 1 2 2 2 2 1]</code></pre>
<div class="sourceCode" id="cb8"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" tabindex="-1"></a><span class="bu">print</span> (<span class="st">&quot;goats  = &quot;</span>, goats)</span></code></pre></div>
<pre><code>## goats  =  [2 0 2 1 0 1 1 0 1 0]</code></pre>
<div class="sourceCode" id="cb10"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" tabindex="-1"></a><span class="bu">print</span> (<span class="st">&quot;switch  = &quot;</span>, switch)</span></code></pre></div>
<pre><code>## switch  =  [1 2 0 2 1 2 2 2 0 1]</code></pre>
</div>
</div>
<div class="col-md-6">
<div id="r-solution" class="section level2">
<h2>R Solution</h2>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" tabindex="-1"></a>simulations <span class="ot">&lt;-</span> <span class="dv">10000</span></span>
<span id="cb12-2"><a href="#cb12-2" tabindex="-1"></a></span>
<span id="cb12-3"><a href="#cb12-3" tabindex="-1"></a>sim_prizedoor <span class="ot">&lt;-</span> <span class="cf">function</span>(<span class="at">nsim =</span> <span class="dv">3</span>) <span class="fu">sample</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>,<span class="at">size =</span> nsim,<span class="at">replace =</span> <span class="cn">TRUE</span>)</span>
<span id="cb12-4"><a href="#cb12-4" tabindex="-1"></a>sim_guess <span class="ot">&lt;-</span> <span class="cf">function</span>(<span class="at">nsim =</span> <span class="dv">3</span>) <span class="fu">sim_prizedoor</span>(nsim)</span>
<span id="cb12-5"><a href="#cb12-5" tabindex="-1"></a>bad_door <span class="ot">&lt;-</span> <span class="cf">function</span>(prize,guess){</span>
<span id="cb12-6"><a href="#cb12-6" tabindex="-1"></a>  <span class="fu">sapply</span>(<span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(prize),<span class="cf">function</span>(i) {</span>
<span id="cb12-7"><a href="#cb12-7" tabindex="-1"></a>    <span class="fu">sample</span>(</span>
<span id="cb12-8"><a href="#cb12-8" tabindex="-1"></a>      <span class="fu">rep</span>(<span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>)[<span class="sc">!</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span> <span class="sc">%in%</span> <span class="fu">c</span>(prize[i],guess[i]))],<span class="dv">2</span>) <span class="co"># because 1:x when length(x) = 1</span></span>
<span id="cb12-9"><a href="#cb12-9" tabindex="-1"></a>      ,<span class="dv">1</span>)</span>
<span id="cb12-10"><a href="#cb12-10" tabindex="-1"></a>  })</span>
<span id="cb12-11"><a href="#cb12-11" tabindex="-1"></a>}</span>
<span id="cb12-12"><a href="#cb12-12" tabindex="-1"></a></span>
<span id="cb12-13"><a href="#cb12-13" tabindex="-1"></a>switch_guess <span class="ot">&lt;-</span> <span class="cf">function</span>(guess,bad_door){</span>
<span id="cb12-14"><a href="#cb12-14" tabindex="-1"></a>  <span class="fu">sapply</span>(<span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(guess),<span class="cf">function</span>(i) {</span>
<span id="cb12-15"><a href="#cb12-15" tabindex="-1"></a>    <span class="fu">sample</span>(</span>
<span id="cb12-16"><a href="#cb12-16" tabindex="-1"></a>      <span class="fu">rep</span>(<span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>)[<span class="sc">!</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span> <span class="sc">%in%</span> <span class="fu">c</span>(guess[i],bad_door[i]))],<span class="dv">2</span>) <span class="co"># because 1:x when length(x) = 1</span></span>
<span id="cb12-17"><a href="#cb12-17" tabindex="-1"></a>      ,<span class="dv">1</span>)</span>
<span id="cb12-18"><a href="#cb12-18" tabindex="-1"></a>  })</span>
<span id="cb12-19"><a href="#cb12-19" tabindex="-1"></a>}</span>
<span id="cb12-20"><a href="#cb12-20" tabindex="-1"></a></span>
<span id="cb12-21"><a href="#cb12-21" tabindex="-1"></a>win_pct <span class="ot">&lt;-</span> <span class="cf">function</span>(guess, prize_door){</span>
<span id="cb12-22"><a href="#cb12-22" tabindex="-1"></a>    nsim <span class="ot">=</span> <span class="fu">length</span>(prize_door)</span>
<span id="cb12-23"><a href="#cb12-23" tabindex="-1"></a>    <span class="co"># Pythonic way works in R too!</span></span>
<span id="cb12-24"><a href="#cb12-24" tabindex="-1"></a>    nwin <span class="ot">=</span> <span class="fu">sum</span>(guess <span class="sc">==</span> prize_door)</span>
<span id="cb12-25"><a href="#cb12-25" tabindex="-1"></a>    <span class="dv">100</span> <span class="sc">*</span> (nwin<span class="sc">/</span>nsim)</span>
<span id="cb12-26"><a href="#cb12-26" tabindex="-1"></a>}</span>
<span id="cb12-27"><a href="#cb12-27" tabindex="-1"></a></span>
<span id="cb12-28"><a href="#cb12-28" tabindex="-1"></a>switch_vs_stay <span class="ot">&lt;-</span> <span class="cf">function</span>(nsim){</span>
<span id="cb12-29"><a href="#cb12-29" tabindex="-1"></a>    </span>
<span id="cb12-30"><a href="#cb12-30" tabindex="-1"></a>    prizes <span class="ot">=</span> <span class="fu">sim_prizedoor</span>(nsim)</span>
<span id="cb12-31"><a href="#cb12-31" tabindex="-1"></a>    guesses <span class="ot">=</span> <span class="fu">sim_guess</span>(nsim)</span>
<span id="cb12-32"><a href="#cb12-32" tabindex="-1"></a>    losers <span class="ot">=</span> <span class="fu">bad_door</span>(prizes, guesses)    </span>
<span id="cb12-33"><a href="#cb12-33" tabindex="-1"></a>    switch_choice <span class="ot">=</span> <span class="fu">switch_guess</span>(guesses,losers)</span>
<span id="cb12-34"><a href="#cb12-34" tabindex="-1"></a>    </span>
<span id="cb12-35"><a href="#cb12-35" tabindex="-1"></a>    winpct_switch <span class="ot">=</span> <span class="fu">win_pct</span>(switch_choice, prizes)</span>
<span id="cb12-36"><a href="#cb12-36" tabindex="-1"></a>    winpct_stay <span class="ot">=</span> <span class="fu">win_pct</span>(guesses, prizes)</span>
<span id="cb12-37"><a href="#cb12-37" tabindex="-1"></a>    </span>
<span id="cb12-38"><a href="#cb12-38" tabindex="-1"></a>    <span class="fu">c</span>(winpct_switch, winpct_stay)</span>
<span id="cb12-39"><a href="#cb12-39" tabindex="-1"></a>}</span>
<span id="cb12-40"><a href="#cb12-40" tabindex="-1"></a>results <span class="ot">=</span> <span class="fu">switch_vs_stay</span>(simulations)</span>
<span id="cb12-41"><a href="#cb12-41" tabindex="-1"></a>results</span></code></pre></div>
<pre><code>## [1] 67.24 32.76</code></pre>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" tabindex="-1"></a><span class="fu">system.time</span>(<span class="fu">switch_vs_stay</span>(simulations))</span></code></pre></div>
<pre><code>##    user  system elapsed 
##    0.12    0.00    0.10</code></pre>
</div>
<div id="inspect-r-functions" class="section level2">
<h2>Inspect R Functions</h2>
<p>See below whether the output is as expected from select
functions.</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" tabindex="-1"></a>prizes <span class="ot">=</span> <span class="fu">sim_prizedoor</span>(<span class="dv">10</span>)</span>
<span id="cb16-2"><a href="#cb16-2" tabindex="-1"></a>guesses <span class="ot">=</span> <span class="fu">sim_guess</span>(<span class="dv">10</span>)</span>
<span id="cb16-3"><a href="#cb16-3" tabindex="-1"></a>goats <span class="ot">=</span> <span class="fu">bad_door</span>(prizes,guesses)</span>
<span id="cb16-4"><a href="#cb16-4" tabindex="-1"></a><span class="cf">switch</span> <span class="ot">=</span> <span class="fu">switch_guess</span>(guesses,goats)</span>
<span id="cb16-5"><a href="#cb16-5" tabindex="-1"></a><span class="fu">paste0</span> (<span class="st">&quot;prizes  = &quot;</span>, <span class="fu">paste0</span>(prizes,<span class="at">collapse =</span> <span class="st">&quot; &quot;</span>))</span></code></pre></div>
<pre><code>## [1] &quot;prizes  = 3 3 1 2 3 1 1 1 1 3&quot;</code></pre>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" tabindex="-1"></a><span class="fu">paste0</span> (<span class="st">&quot;guesses = &quot;</span>, <span class="fu">paste0</span>(guesses,<span class="at">collapse =</span> <span class="st">&quot; &quot;</span>))</span></code></pre></div>
<pre><code>## [1] &quot;guesses = 2 2 2 1 3 3 2 3 1 1&quot;</code></pre>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" tabindex="-1"></a><span class="fu">paste0</span> (<span class="st">&quot;goats  = &quot;</span>, <span class="fu">paste0</span>(goats,<span class="at">collapse =</span> <span class="st">&quot; &quot;</span>))</span></code></pre></div>
<pre><code>## [1] &quot;goats  = 1 1 3 3 1 2 3 2 2 2&quot;</code></pre>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" tabindex="-1"></a><span class="fu">paste0</span> (<span class="st">&quot;switch = &quot;</span>, <span class="fu">paste0</span>(<span class="cf">switch</span>,<span class="at">collapse =</span> <span class="st">&quot; &quot;</span>))</span></code></pre></div>
<pre><code>## [1] &quot;switch = 3 3 1 2 2 1 1 1 3 3&quot;</code></pre>
</div>
</div>
</div>
<div id="disqus_thread">

</div>
<script>

/**
*  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
*  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables*/

var disqus_config = function () {
this.page.url = 'https://ncpollock.github.io/monty_hall.html';  // Replace PAGE_URL with your page's canonical URL variable
this.page.identifier = 'https://ncpollock.github.io/monty_hall.html'; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
};

(function() { // DON'T EDIT BELOW THIS LINE
var d = document, s = d.createElement('script');
s.src = 'https://nc-blog-1.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>
Please enable JavaScript to view the
<a href="https://disqus.com/?ref_noscript">comments powered by
Disqus.</a>
</noscript>

  </div> <!-- articleBandContent -->
</div> <!-- pageContent -->
</div> <!-- floating toc -->
</div>

<footer id="site-footer">
  <div class="col-md-4">
  
<div class="polaroid rotate_right">
  <img src="images/wife_and_i.jpg" alt="My wifte and I." width="115" >
  <p class="caption">My wife and I.</p>
</div>

<div class="polaroid rotate_left">
  <img src="images/dogs.jpg" alt="Our dogs Bambi and Lexi" width="115">
  <p class="caption">Our furry children, Bambi and Lexi.</p>
</div>
  </div>
    <div class="col-md-4">
      Connect with me: <br>
      <a href="https://www.linkedin.com/in/noah-pollock-5b5804157/">
        <i class="fa fa-linkedin-square fa-lg"></i> Linkedin
      </a>
      <br>
      <a href="https://github.com/ncpollock/">
        <i class="fa fa-github-square fa-lg"></i> GitHub
      </a>
  </div>
    <div class="col-md-4">
      <a href="https://www.google.com/" target="_blank">
        <i class="fa fa-question-circle fa-lg"></i> Help
      </a>
  </div>
</footer>



</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
