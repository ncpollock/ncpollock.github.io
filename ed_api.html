<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />


<meta name="author" content="Noah Pollock" />

<meta name="date" content="2018-12-10" />

<title>Department of Ed API</title>

<script src="site_libs/jquery-1.12.4/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/flatly.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<script src="site_libs/navigation-1.1/codefolding.js"></script>
<script src="site_libs/htmlwidgets-1.3/htmlwidgets.js"></script>
<link href="site_libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet" />
<script src="site_libs/datatables-binding-0.5/datatables.js"></script>
<link href="site_libs/dt-core-1.10.16/css/jquery.dataTables.min.css" rel="stylesheet" />
<link href="site_libs/dt-core-1.10.16/css/jquery.dataTables.extra.css" rel="stylesheet" />
<script src="site_libs/dt-core-1.10.16/js/jquery.dataTables.min.js"></script>
<link href="site_libs/crosstalk-1.0.0/css/crosstalk.css" rel="stylesheet" />
<script src="site_libs/crosstalk-1.0.0/js/crosstalk.min.js"></script>
<link href="site_libs/font-awesome-5.0.13/css/fa-svg-with-js.css" rel="stylesheet" />
<script src="site_libs/font-awesome-5.0.13/js/fontawesome-all.min.js"></script>
<script src="site_libs/font-awesome-5.0.13/js/fa-v4-shims.min.js"></script>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-122098274-2"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-122098274-2');
</script>


<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; background-color: #303030; color: #cccccc; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; }
td.sourceCode { padding-left: 5px; }
pre, code { color: #cccccc; background-color: #303030; }
code > span.kw { color: #f0dfaf; } /* Keyword */
code > span.dt { color: #dfdfbf; } /* DataType */
code > span.dv { color: #dcdccc; } /* DecVal */
code > span.bn { color: #dca3a3; } /* BaseN */
code > span.fl { color: #c0bed1; } /* Float */
code > span.ch { color: #dca3a3; } /* Char */
code > span.st { color: #cc9393; } /* String */
code > span.co { color: #7f9f7f; } /* Comment */
code > span.ot { color: #efef8f; } /* Other */
code > span.al { color: #ffcfaf; } /* Alert */
code > span.fu { color: #efef8f; } /* Function */
code > span.er { color: #c3bf9f; } /* Error */
code > span.wa { color: #7f9f7f; font-weight: bold; } /* Warning */
code > span.cn { color: #dca3a3; font-weight: bold; } /* Constant */
code > span.sc { color: #dca3a3; } /* SpecialChar */
code > span.vs { color: #cc9393; } /* VerbatimString */
code > span.ss { color: #cc9393; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { } /* Variable */
code > span.cf { color: #f0dfaf; } /* ControlFlow */
code > span.op { color: #f0efd0; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #ffcfaf; font-weight: bold; } /* Preprocessor */
code > span.at { } /* Attribute */
code > span.do { color: #7f9f7f; } /* Documentation */
code > span.an { color: #7f9f7f; font-weight: bold; } /* Annotation */
code > span.cv { color: #7f9f7f; font-weight: bold; } /* CommentVar */
code > span.in { color: #7f9f7f; font-weight: bold; } /* Information */
div.sourceCode {
  overflow-x: visible;
}
</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>


<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>

<link rel="stylesheet" href="my_style.css" type="text/css" />

</head>

<body>

<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 60px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 65px;
  margin-top: -65px;
}

.section h2 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h3 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h4 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h5 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h6 {
  padding-top: 65px;
  margin-top: -65px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>


<div class="container-fluid main-container">

<!-- tabsets -->
<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});
</script>

<!-- code folding -->
<style type="text/css">
.code-folding-btn { margin-bottom: 4px; }
</style>
<script>
$(document).ready(function () {
  window.initializeCodeFolding("show" === "show");
});
</script>




<script>
$(document).ready(function ()  {

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_').toLowerCase();
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}


.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
  padding-left: 25px;
  text-indent: 0;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>

<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row-fluid">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Noah C. Pollock</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">
    <span class="fa fa-home"></span>
     
    Home
  </a>
</li>
<li>
  <a href="about_me.html">
    <span class="fa fa-info-circle"></span>
     
    About Me
  </a>
</li>
<li>
  <a href="blog.html">
    <span class="fa fa-street-view"></span>
     
    Blog
  </a>
</li>
<li>
  <a href="projects.html">
    <span class="fa fa-gear"></span>
     
    Projects
  </a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="resources.html">
    <span class="fa fa-key"></span>
     
    Resources
  </a>
</li>
<li>
  <a href="https://www.linkedin.com/in/noah-pollock-5b5804157/">
    <span class="fa fa-linkedin"></span>
     
  </a>
</li>
<li>
  <a href="https://github.com/ncpollock/">
    <span class="fa fa-github"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">

<div class="btn-group pull-right">
<button type="button" class="btn btn-default btn-xs dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span>Code</span> <span class="caret"></span></button>
<ul class="dropdown-menu" style="min-width: 50px;">
<li><a id="rmd-show-all-code" href="#">Show All Code</a></li>
<li><a id="rmd-hide-all-code" href="#">Hide All Code</a></li>
</ul>
</div>



<h1 class="title toc-ignore">Department of Ed API</h1>
<h4 class="author"><em>Noah Pollock</em></h4>
<h4 class="date"><em>December 10, 2018</em></h4>

</div>


<div id="scope" class="section level2">
<h2>Scope</h2>
<p>Learn to use the U.S. Department of Education API to capture data about higher education in the United States.</p>
</div>
<div id="introduction-and-prerequisites" class="section level2">
<h2>Introduction and Prerequisites</h2>
<p>The U.S. government provides lots of free data and not enough people know about it! Unfortunately, I too frequently encounter people and organizations paying for data that is freely available. In this post, we’ll learn to tap into the rich data available from the United States Department of Education (let’s shorten that to USDE from here on out) through their Application Programming Interface (API).</p>
<p>If you want to follow along, <a href="https://api.data.gov/signup/" target="_blank">go register for an API Key</a>, it only requires an email. An API Key is essentially a password that gives you access to the content.</p>
<p><a href="https://collegescorecard.ed.gov/data/documentation/" target="_blank">Open their API documentation</a> here as well for reference.</p>
<p><a href="flex_dash.html" target="_blank">Check out my rmarkdown dashboard</a> which visualizes data from the Department of Ed API.</p>
</div>
<div id="api-basics" class="section level2">
<h2>API Basics</h2>
<p>In the way we’re using it, an API is a set of tools and protocols for transfering data. The following link is straight from USDE API documentation, go ahead and click or copy and paste into a new tab <a href="https://api.data.gov/ed/collegescorecard/v1/schools?school.name=boston%20college" target="_blank">https://api.data.gov/ed/collegescorecard/v1/schools?school.name=boston%20college</a>.</p>
<p>Hooray! You just executed an API Get request. Rather unsuccessfully I might add. You should have received a message like the one below. The USDE API requires us to provie a key.</p>
<p><img src="images/api_missing_key.JPG" width="1901" /></p>
<p>If you obtained one already, try clicking on the link again, then adding <code>&amp;api_key=</code> then your full api key. You should then see something more along the lines of the screenshot below.</p>
<p><img src="images/api_success.JPG" width="1290" /></p>
<p>Now you have successfully sent a GET request to an API! The jumbled text on the page above is JavaScript Object Notation (JSON), a common, nay ubiquitous, format for storing and transfering data. A form of data storage you may have heard of is Comma Separated Values (CSV). In the same way CSV files have rules for how columns and rows and values are separated, JSON has rules too, they’re just different rules.</p>
<p>Anyways, you would <em>hopefully</em> never have to read JSON like it appears on this page and you would rarely make an API call by opening the link in a browser. Instead we’ll use the <code>jsonlite</code> package to call the API for us within R then we’ll coerce it into a dataframe.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#build your call</span>
call &lt;-<span class="st"> </span><span class="kw">paste0</span>(
  <span class="co"># this piece is known as the URL (and schools is the Endpoint)</span>
  <span class="st">&quot;https://api.data.gov/ed/collegescorecard/v1/schools?&quot;</span>,
  <span class="co"># here we tell the API we only want to see two variables</span>
    <span class="co"># school.name and undergraduate enrollment</span>
  <span class="st">&quot;fields=school.name,latest.student.size&quot;</span>,
  <span class="co"># now we pass a paramter, </span>
  <span class="co"># return only records for the school with a certain id</span>
  <span class="st">&quot;&amp;id=171571&quot;</span>
)
<span class="kw">print</span>(call)</code></pre></div>
<pre><code>## [1] &quot;https://api.data.gov/ed/collegescorecard/v1/schools?fields=school.name,latest.student.size&amp;id=171571&quot;</code></pre>
<p>Looks good, but we still need to add our key.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># add key to api call</span>
call &lt;-<span class="st"> </span><span class="kw">paste0</span>(call,<span class="st">&quot;&amp;api_key=&quot;</span>,my_api_key)

<span class="co"># send call to Ed API and get JSON back</span>
call_extract &lt;-<span class="st"> </span>jsonlite<span class="op">::</span><span class="kw">fromJSON</span>(call)

<span class="co"># coerce into a dataframe and print</span>
<span class="kw">data.frame</span>(call_extract)</code></pre></div>
<div class="kable-table">
<table>
<thead>
<tr class="header">
<th align="right">metadata.page</th>
<th align="right">metadata.total</th>
<th align="right">metadata.per_page</th>
<th align="right">results.latest.student.size</th>
<th align="left">results.school.name</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">0</td>
<td align="right">1</td>
<td align="right">20</td>
<td align="right">15236</td>
<td align="left">Oakland University</td>
</tr>
</tbody>
</table>
</div>
<p>You may notice that you get back a few more pieces than you ask for. This is metadata and it’s useful for understanding your API call and what information was returned. For example, there were a total of 1 record(s), the record return is on page 0, and that 20 records per page would have been returned had we asked for more records. Pagination is important to understand because if we asked for 100 records, we would have to ask for pages zero through 4 or change the number of records per page to get all of them.</p>
</div>
<div id="a-function-for-easy-calling" class="section level2">
<h2>A Function for Easy Calling</h2>
<p>To help alleviate some of the headache, I wrote a function below that builds the call and traverses all pages for us.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">ed_api &lt;-<span class="st"> </span><span class="cf">function</span>(<span class="dt">key =</span> my_api_key,
  <span class="dt">fields =</span> <span class="kw">c</span>(<span class="st">&quot;id&quot;</span>,<span class="st">&quot;location.lat&quot;</span>,<span class="st">&quot;location.lon&quot;</span>,<span class="st">&quot;school.name&quot;</span>,<span class="st">&quot;school.state&quot;</span>),
  <span class="dt">params =</span> <span class="st">&quot;school.state=MI&quot;</span>){
  
  <span class="kw">require</span>(jsonlite)
  
  endpoint =<span class="st"> &quot;schools&quot;</span>
  
  <span class="co"># collapse arguments by comma</span>
  fields =<span class="st"> </span><span class="cf">if</span>(<span class="op">!</span><span class="kw">is.null</span>(fields)) <span class="kw">paste0</span>(<span class="st">&quot;fields=&quot;</span>,<span class="kw">paste</span>(fields,<span class="dt">collapse=</span><span class="st">&quot;,&quot;</span>))
  params =<span class="st"> </span><span class="cf">if</span>(<span class="op">!</span><span class="kw">is.null</span>(params)) <span class="kw">paste0</span>(<span class="st">&quot;&amp;&quot;</span>,<span class="kw">paste</span>(params,<span class="dt">collapse=</span><span class="st">&quot;,&quot;</span>))
  
  url =<span class="st"> &quot;https://api.data.gov/ed/collegescorecard/v1/&quot;</span>
  call =<span class="st"> </span><span class="kw">paste0</span>(url,endpoint,<span class="st">&quot;?&quot;</span>,<span class="kw">paste</span>(fields,<span class="dt">collapse=</span><span class="st">&quot;,&quot;</span>),params,<span class="st">&quot;&amp;api_key=&quot;</span>,key)
  <span class="co"># print(call) # commented out so you can&#39;t see my API key!</span>
  
  <span class="co">#first call to ping number of pages, ie page=0</span>
  call_parsed &lt;-<span class="st"> </span><span class="kw">fromJSON</span>(call)
  ed_df &lt;-<span class="st"> </span><span class="kw">data.frame</span>(call_parsed)
  
  <span class="co"># find total pages</span>
  <span class="co"># 20 results per page by default</span>
  total_pages =<span class="st"> </span>call_parsed<span class="op">$</span>metadata<span class="op">$</span>total <span class="op">%/%</span><span class="st"> </span><span class="dv">20</span>
  
  <span class="co"># now call all the other pages and combine</span>
  <span class="cf">for</span>(page_num <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span>total_pages){
    <span class="co"># print(paste0(call,&quot;&amp;page=&quot;,page_num)) # so you can&#39;t see my API key!</span>
    call_parsed_paginated =<span class="st"> </span><span class="kw">fromJSON</span>(<span class="kw">paste0</span>(call,<span class="st">&quot;&amp;page=&quot;</span>,page_num))
    paginated_df &lt;-<span class="st"> </span><span class="kw">data.frame</span>(call_parsed_paginated)
    ed_df &lt;-<span class="st"> </span><span class="kw">rbind</span>(ed_df,paginated_df)
  }
  
  <span class="kw">return</span>(ed_df)
  
  <span class="co">#documentation</span>
  <span class="co">#https://collegescorecard.ed.gov/data/documentation/</span>
  
}</code></pre></div>
<div id="function-in-action" class="section level3">
<h3>Function in Action</h3>
<p>Now see the function in action. It takes character vectors for field names or for optional parameters and will require that you reference the data dictionary and tech documentation from USDE. Note that the defaul parameter is to search for schools in Michigan. To return all schools, set <code>params = NULL</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># identify fields to capture</span>
field_c &lt;-<span class="st"> </span><span class="kw">c</span>(
       <span class="st">&quot;id&quot;</span>,
       <span class="st">&quot;school.name&quot;</span>,
       <span class="st">&quot;school.state&quot;</span>,
       <span class="st">&quot;school.zip&quot;</span>,
       <span class="st">&quot;location.lat&quot;</span>,
       <span class="st">&quot;location.lon&quot;</span>,
       <span class="co"># total Undergraduate degree/certificate seeking enrollment</span>
       <span class="st">&quot;latest.student.size&quot;</span>, 
       <span class="co">#whether the institution is still in business</span>
       <span class="st">&quot;school.operating&quot;</span>)

<span class="co"># schools in Michigan</span>
test_<span class="dv">1</span> &lt;-<span class="st"> </span><span class="kw">ed_api</span>(<span class="dt">fields =</span> field_c)

<span class="kw">datatable</span>(test_<span class="dv">1</span>
          ,<span class="dt">rownames =</span> <span class="ot">FALSE</span>
          ,<span class="dt">options =</span> <span class="kw">list</span>(<span class="dt">scrollX =</span> <span class="ot">TRUE</span>))</code></pre></div>
<div id="htmlwidget-5c5636c788ec60dbfd94" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-5c5636c788ec60dbfd94">{"x":{"filter":"none","data":[[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,9,9,9,9,9,9,9,9,9,9,9,9],[192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192],[20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20],[56,1727,1451,22,1000,1412,956,1436,1334,6343,1163,117,3382,null,129,null,14409,6019,230,462,895,null,1414,4616,251,6836,34,null,1082,2559,420,154,14381,33,10398,37,598,1763,670,915,1440,11529,21019,171,10044,1452,2966,3399,1265,6333,3170,996,98,2410,1738,10279,1941,36,17913,2343,845,31046,171,38950,5678,6728,5127,2558,1863,1155,3256,1115,6756,3113,2554,12487,15236,1001,49,137,76,130,151,252,7209,8009,1974,2477,1516,435,1469,198,389,null,246,715,9790,9509,17219,776,138,16801,null,52,263,3,87,55,415,807,58,58,113,41,128,169,74,463,309,285,22,10,118,198,292,68,76,222,114,23,36,64,101,39,94,31,175,62,81,93,71,128,150,75,143,51,49,27,381,129,20,17,338,33,202,36,null,20,117,104,75,9,110,62,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],["West Michigan College of Barbering and Beauty","Adrian College","Albion College","Hillsdale Beauty College","Northwestern Technological Institute","Alma College","Alpena Community College","Andrews University","Aquinas College","Baker College","Bay de Noc Community College","Bayshire Academy of Beauty Craft Inc","Calvin University","Calvin Theological Seminary","Carnegie Institute","Michigan School of Psychology","Central Michigan University","Mott Community College","Empire Beauty School-Michigan","Cleary University","Concordia University-Ann Arbor","Cranbrook Academy of Art","College for Creative Studies","Davenport University","David Pressley School of Cosmetology","Delta College","Detroit Business Institute-Downriver","Michigan State University-College of Law","MIAT College of Technology","University of Detroit Mercy","Dorsey School of Business-Madison Heights","Dorsey School of Business","Eastern Michigan University","Creative Hair School of Cosmetology","Ferris State University","Flint Institute of Barbering Inc","Glen Oaks Community College","Kettering University","Gogebic Community College","Grace Christian University","Cornerstone University","Grand Rapids Community College","Grand Valley State University","Great Lakes Christian College","Henry Ford College","Hillsdale College","Hope College","Jackson College","Kalamazoo College","Kalamazoo Valley Community College","Kellogg Community College","Kirtland Community College","Michigan College of Beauty-Monroe","Lake Michigan College","Lake Superior State University","Lansing Community College","Lawrence Technological University","M J Murphy Beauty College of Mount Pleasant","Macomb Community College","Madonna University","Rochester University","University of Michigan-Ann Arbor","The Michigan Barber School","Michigan State University","Michigan Technological University","University of Michigan-Dearborn","University of Michigan-Flint","Mid Michigan College","Monroe County Community College","Montcalm Community College","Muskegon Community College","North Central Michigan College","Northern Michigan University","Northwestern Michigan College","Northwood University","Oakland Community College","Oakland University","Olivet College","Port Huron Cosmetology College","Kuyper College","Ross Medical Education Center-Lansing","Ross Medical Education Center-Madison Heights","Ross Medical Education Center-Flint","Sacred Heart Major Seminary","Saginaw Valley State University","Schoolcraft College","Siena Heights University","St Clair County Community College","Southwestern Michigan College","Specs Howard School of Media Arts","Spring Arbor University","Michigan Career and Technical Institute","Finlandia University","Western Michigan University-Thomas M. Cooley Law School","Twin City Beauty College","Walsh College","Washtenaw Community College","Wayne County Community College District","Wayne State University","West Shore Community College","Paul Mitchell the School-Grand Rapids","Western Michigan University","Western Theological Seminary","Wright Beauty Academy","Dorsey School of Business-Wayne","Ecumenical Theological Seminary","Ross Medical Education Center-Saginaw","Yeshiva Gedolah of Greater Detroit","Dorsey School of Business-Roseville","Douglas J Aveda Institute","Ross Medical Education Center-Brighton","Ross Medical Education Center-Ann Arbor","Taylortown School of Beauty Inc","Ross Medical Education Center-Port Huron","Ross Medical Education Center-Roosevelt Park","Ross Medical Education Center-Kentwood","Ross Medical Education Center-Taylor","Bay Mills Community College","Michigan College of Beauty-Troy","P&amp;A Scholars Beauty School","Sharps Academy of Hair Styling","Cadillac Institute of Cosmetology","Saginaw Chippewa Tribal College","Irene's Myomassology Institute","Career Quest Learning Centers-Lansing","Paul Mitchell the School-Great Lakes","Nuvo College of Cosmetology","Paul Mitchell the School-Michigan","Elevate Salon Institute","Lakewood School of Therapeutic Massage","The Salon Professional Academy-Battle Creek","Ross Medical Education Center-New Baltimore","Career Quest Learning Centers-Jackson","French Academy of Cosmetology","Dorsey School of Business-Roseville Culinary Academy","Ross Medical Education Center-Battle Creek","L'esprit Academy","Marketti Academy of Cosmetology","Dorsey School of Business-Waterford Pontiac","Compass College of Cinematic Arts","Ross Medical Education Center-Davison","Ross Medical Education Center-Canton","Dorsey School of Business-Saginaw","Keweenaw Bay Ojibwa Community College","Abcott Institute","Protege Academy","Brighton Institute of Cosmetology","School of Missionary Aviation Technology","Dorsey School of Business-Dearborn","Paul Mitchell The School-Farmington Hills","University of Phoenix-Michigan","Princess Beauty School","Chamberlain University-Michigan","Protege Academy","U.S. Truck Driver Training School","Ross Medical Education Center-Midland","Western Michigan University Homer Stryker M.D. School of Medicine","Metro Detroit Barber College","Career Quest Learning Center-Mt. Pleasant","Ross Medical Education Center - Kalamazoo","Ross College-Grand Rapids North","D&amp;S School of Cosmetology","DSDT","Career Quest Learning Center-Bay City Branch","Moody Theological Seminary and Graduate School--Michigan","Hillsdale Beauty College","Baker College of Owosso","Baker College of Allen Park","Baker College of Auburn Hills","Baker College of Cadillac","Baker College of Clinton Township","Baker College of Jackson","Baker College of Muskegon","Baker College of Port Huron","Baker College Center for Graduate Studies","Baker College - Flint","Davenport University-Warren Location","Davenport University-Kalamazoo Location","Davenport University-Lansing Location","Davenport University-Midland Location","Davenport University-Holland Location","Davenport University-Flint Location","Davenport University-Traverse City Location","Davenport University-Livonia Location","Davenport University-Grand Rapids Downtown","Davenport University - Treasury Site Dimondale","Davenport University - Wayne CCCD","Davenport University - Macomb CC","Davenport University - Schoolcraft College","Davenport University - Detroit","L'esprit Academy - Royal Oak","Keweenaw Bay Ojibwa Community College - Wabanung Campus"],["MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI"],["49008","49221-2575","49224","49242","48075","48801-1599","49707","49104","49506-1801","48867","49829-2511","48708-5614","49546","49546-4387","48083","48334-4512","48859","48503-2089","49544","48843","48105","48304","48202","49512-9396","48067-3219","48710","48193","48824-1300","48188","48221-3038","48071","48071","48197","48507","49307-2251","48504-4395","49032-9719","48504-6214","49938","49509","49525-5897","49503-3295","49401-9403","48917-1299","48128-1495","49242","49422-9000","49201-8399","49006-3295","49003-4070","49017-3397","49738","48161","49022-1899","49783","48933","48075-1058","48858","48088-3896","48150-1176","48307","48109","48204-2244","48824-1046","49931-1295","48128-1491","48502-1950","48625-9447","48161-9746","48885-9723","49442-1432","49770","49855-5301","49686","48640-2398","48304-2266","48309-4401","49076","48329","49525-9781","48917","48071","48507","48206-1799","48710","48152-2696","49221","48061-5015","49047-9793","48033","49283-9799","49080-9254","49930-1832","48933","49085","48083-5066","48105-4800","48226","48202","49454-0277","49512-1781","49008-5200","49423-3622","49015","48184","48201-3035","48603","48237","48066","48823","48116","48108-1411","48180-1866","48060","49441","49508","48180","49715","48083","48204","48439","49601-1800","48858","48033","48910","48060","49441","48313","48073","48060","49015","48047","49201","49456","48066","49015","48187","48329","48341","49503","48423","48187","48603","49908-0000","48075-5227","48823-8660","48116-8360","48846","48228","48334-1300","48076","48127-2999","48084","48858-2058","48312-4518","48640-2690","49007","48221-2650","48858-4427","49009-1003","49525-2473","48328","48216","48706-1234","481704308","490360000","488679600","481019600","483269600","496019600","480359600","492021290","494421290","480601290","485071290","485075508","480925209","490034070","489332197","486423799","494239121","485039121","496849121","481529069","495039121","488215004","481111404","480381139","481523932","482023046","480673825","499460000"],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,0,1,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,0,1,1,0,0,1,1,0,1,1,0,0,0,1,1,1,1,1,0,1,0,0,0,1,0,0,1,1,1],[152044,168528,168546,168555,168573,168591,168607,168740,168786,168847,168883,168892,169080,169099,169187,169220,169248,169275,169284,169327,169363,169424,169442,169479,169503,169521,169576,169628,169655,169716,169734,169761,169798,169813,169910,169947,169974,169983,169992,170000,170037,170055,170082,170091,170240,170286,170301,170444,170532,170541,170550,170587,170611,170620,170639,170657,170675,170736,170790,170806,170967,170976,171012,171100,171128,171137,171146,171155,171225,171234,171304,171395,171456,171483,171492,171535,171571,171599,171775,171881,171988,171997,172015,172033,172051,172200,172264,172291,172307,172325,172334,172422,172440,172477,172495,172608,172617,172635,172644,172671,172680,172699,172705,172802,247153,247162,247409,247773,250744,261436,261676,261685,261719,363013,365824,365833,367158,380359,381370,391005,391759,421665,441070,443137,446136,446288,447980,449977,451282,451291,451307,452072,454306,455062,455558,456515,457633,457642,458380,459417,460093,460127,460482,461315,461892,461944,477002,480727,483504,484093,484695,486327,486947,487083,488837,488970,490373,490489,490568,490814,490841,492096,492139,493424,14736901,16855501,16884701,16884702,16884703,16884704,16884705,16884706,16884707,16884709,16884710,16884711,16947903,16947904,16947905,16947907,16947909,16947910,16947912,16947918,16947920,16947921,16947922,16947923,16947924,16947925,45763301,46131501],[42.259329,41.898591,42.245049,41.918718,42.469188,43.38004,45.081647,41.963859,42.96019,42.984804,45.772586,43.599758,42.929916,42.927951,42.53889,42.491427,43.591203,43.019941,43.028642,42.586638,42.273157,42.568904,42.361839,42.850013,42.479729,43.559491,42.168682,42.725733,42.286324,42.414222,42.525318,42.525318,42.251675,42.980416,43.687724,43.027339,41.892504,43.012468,46.471893,42.919541,42.979966,42.967076,42.963001,42.754249,42.324639,41.933682,42.787298,42.16483,42.290789,42.225948,42.335638,44.601785,41.907014,42.097276,46.492849,42.738435,42.474072,43.60429,42.50599,42.384323,42.667521,42.275921,42.365023,42.73212,47.11866,42.317287,43.01875,43.969586,41.91617,43.253191,43.250329,45.361727,46.559751,44.765436,43.628717,42.595441,42.674573,42.442891,42.700677,43.02195,42.741855,42.508189,42.986442,42.375248,43.51176,42.419279,41.905624,42.979494,41.965095,42.483856,42.206568,42.504599,47.127868,42.731,42.071099,42.573888,42.26361,42.327299,42.358994,44.008512,42.910707,42.282194,42.786246,42.308774,42.28171,42.344129,43.469473,42.471924,42.527764,42.734606,42.548468,42.25294,42.254745,43.024632,43.191474,42.880955,42.194933,46.454584,42.570337,42.376091,42.912036,44.251375,43.607105,42.480113,42.699106,42.978839,43.190304,42.593439,42.525165,42.97236,42.297776,42.677429,42.245222,43.075898,42.527764,42.247801,42.321904,42.683352,42.643595,42.961875,43.021829,42.324442,43.47055,46.782535,42.446331,42.724862,42.521018,42.941371,42.330658,42.498205,42.482261,42.325986,42.556474,43.61137,42.550239,43.641877,42.289571,42.416931,43.580687,42.290629,43.035323,42.639596,42.325621,43.626928,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[-85.590244,-84.061481,-84.745639,-84.631429,-83.238529,-84.672053,-83.445069,-86.355815,-85.628785,-84.172404,-87.085228,-83.88895,-85.587548,-85.586439,-83.118801,-83.359575,-84.77525,-83.67243,-85.691067,-83.879987,-83.68268,-83.250681,-83.062352,-85.533519,-83.146008,-83.985943,-83.191212,-84.47352,-83.445507,-83.139158,-83.107631,-83.107631,-83.627443,-83.757927,-85.481925,-83.73911,-85.496929,-83.71282,-90.165592,-85.692077,-85.595328,-85.665625,-85.889826,-84.638714,-83.236056,-84.633195,-86.102089,-84.403942,-85.601857,-85.682144,-85.177329,-84.706254,-83.407005,-86.393445,-84.365573,-84.55157,-83.25003,-84.777927,-82.972377,-83.404722,-83.144959,-83.742769,-83.128883,-84.476111,-88.548092,-83.231417,-83.690276,-84.763715,-83.470274,-85.100181,-86.196384,-84.954183,-87.406568,-85.585517,-84.27682,-83.244787,-83.216418,-84.923891,-83.398624,-85.592657,-84.605807,-83.107692,-83.751751,-83.111682,-83.964273,-83.430958,-84.018841,-82.428717,-86.082715,-83.259829,-84.556074,-85.517049,-88.588756,-84.554429,-86.47655,-83.147197,-83.66559,-83.054497,-83.068998,-86.336122,-85.596605,-85.613759,-86.10324,-85.19696,-83.382299,-83.055266,-83.967884,-83.200754,-82.915541,-84.480467,-83.796918,-83.666667,-83.259322,-82.452984,-86.267098,-85.605379,-83.250307,-84.607089,-83.12734,-83.157878,-83.624526,-85.400655,-84.732485,-83.287169,-84.53728,-82.458848,-86.266315,-83.028804,-83.164514,-82.425714,-85.224127,-82.751334,-84.402897,-86.198004,-82.915541,-85.20031,-83.457386,-83.374733,-83.324631,-85.667065,-83.516551,-83.482675,-83.973056,-88.507761,-83.210617,-84.452903,-83.743486,-85.07224,-83.219356,-83.357682,-83.242621,-83.293187,-83.150516,-84.751095,-83.042997,-84.258017,-85.57943,-83.145979,-84.768341,-85.651779,-85.629017,-83.369697,-83.081501,-83.896598,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>metadata.page<\/th>\n      <th>metadata.total<\/th>\n      <th>metadata.per_page<\/th>\n      <th>results.latest.student.size<\/th>\n      <th>results.school.name<\/th>\n      <th>results.school.state<\/th>\n      <th>results.school.zip<\/th>\n      <th>results.school.operating<\/th>\n      <th>results.id<\/th>\n      <th>results.location.lat<\/th>\n      <th>results.location.lon<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"scrollX":true,"columnDefs":[{"className":"dt-right","targets":[0,1,2,3,7,8,9,10]}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># school name and most recent UG student size</span>
  <span class="co"># for schools that had between 100 and 102 UG students in 2013</span>
test_<span class="dv">2</span> &lt;-<span class="st"> </span><span class="kw">ed_api</span>(
  <span class="dt">fields =</span> <span class="kw">c</span>(<span class="st">&quot;school.name&quot;</span>,<span class="st">&quot;latest.student.size&quot;</span>)
  ,<span class="dt">params =</span> <span class="st">&quot;2013.student.size__range=100..102&quot;</span>)

<span class="kw">datatable</span>(test_<span class="dv">2</span>
          ,<span class="dt">rownames =</span> <span class="ot">FALSE</span>
          ,<span class="dt">options =</span> <span class="kw">list</span>(<span class="dt">scrollX =</span> <span class="ot">TRUE</span>))</code></pre></div>
<div id="htmlwidget-a9d7eb2932811e840be7" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-a9d7eb2932811e840be7">{"x":{"filter":"none","data":[[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1],[30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20],[102,101,102,101,100,102,101,100,100,102,100,100,101,102,101,101,102,100,101,100,101,100,101,101,101,100,102,102,100,101],["Paul Mitchell the School-Arkansas","Interactive College of Technology-Morrow","Academy College","Michaels School of Hair Design and Esthetics-Paul Mitchell Partner School","Elmira Business Institute","Webb Institute","National Beauty College","Eves College of Hairstyling","Hairmasters Institute of Cosmetology","Buckeye Joint Vocational School","Chester County Intermediate Unit","FINE Mortuary College","National American University-Ellsworth AFB Extension","Institute of Health &amp; Technology","Career Quest Learning Centers-Jackson","Paul Mitchell the School-Normal","EDP School","Empire Beauty School-Winston-Salem","The Salon Professional Academy-North Little Rock","Colorado Academy of Veterinary Technology","Santa Ana Beauty College","Boca Beauty Academy","City Pointe Beauty Academy","Ross Medical Education Center-Erlanger","Bay Area Medical Academy","Ricci's Academy of Cosmetology","Focus Personal Training Institute","Elim Bible Institute and College","Women's Institute of Torah Seminary and College","ICOHS College"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>metadata.page<\/th>\n      <th>metadata.total<\/th>\n      <th>metadata.per_page<\/th>\n      <th>results.latest.student.size<\/th>\n      <th>results.school.name<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"scrollX":true,"columnDefs":[{"className":"dt-right","targets":[0,1,2,3]}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># all schools, over 7,000! </span>
<span class="co"># Obviously i&#39;m not going to run this for this post.</span>
<span class="co"># api_df &lt;- ed_api(fields = field_c,params = NULL)</span></code></pre></div>
<div id="disqus_thread">

</div>
<script>

/**
*  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
*  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables*/

var disqus_config = function () {
this.page.url = 'https://ncpollock.github.io/ed_api.html';  // Replace PAGE_URL with your page's canonical URL variable
this.page.identifier = 'https://ncpollock.github.io/ed_api.html'; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
};

(function() { // DON'T EDIT BELOW THIS LINE
var d = document, s = d.createElement('script');
s.src = 'https://nc-blog-1.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>
Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a>
</noscript>
</div>
</div>

  </div> <!-- articleBandContent -->
</div> <!-- pageContent -->
</div> <!-- floating toc -->
</div>

<footer id="site-footer">
  <div class="col-md-4">
  
<div class="polaroid rotate_right">
  <img src="images/wife_and_i.jpg" alt="My wifte and I." width="115" >
  <p class="caption">My wife and I.</p>
</div>

<div class="polaroid rotate_left">
  <img src="images/dogs.jpg" alt="Our dogs Bambi and Lexi" width="115">
  <p class="caption">Our furry children, Bambi and Lexi.</p>
</div>
  </div>
    <div class="col-md-4">
      Connect with me: <br>
      <a href="https://www.linkedin.com/in/noah-pollock-5b5804157/">
        <i class="fa fa-linkedin-square fa-lg"></i> Linkedin
      </a>
      <br>
      <a href="https://github.com/ncpollock/">
        <i class="fa fa-github-square fa-lg"></i> GitHub
      </a>
  </div>
    <div class="col-md-4">
      <a href="https://www.google.com/" target="_blank">
        <i class="fa fa-question-circle fa-lg"></i> Help
      </a>
  </div>
</footer>


</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
