<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />


<meta name="author" content="Noah Pollock" />

<meta name="date" content="2018-12-10" />

<title>Department of Ed API</title>

<script src="site_libs/jquery-1.12.4/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/flatly.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<script src="site_libs/navigation-1.1/codefolding.js"></script>
<script src="site_libs/htmlwidgets-1.3/htmlwidgets.js"></script>
<link href="site_libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet" />
<script src="site_libs/datatables-binding-0.5/datatables.js"></script>
<link href="site_libs/dt-core-1.10.16/css/jquery.dataTables.min.css" rel="stylesheet" />
<link href="site_libs/dt-core-1.10.16/css/jquery.dataTables.extra.css" rel="stylesheet" />
<script src="site_libs/dt-core-1.10.16/js/jquery.dataTables.min.js"></script>
<link href="site_libs/crosstalk-1.0.0/css/crosstalk.css" rel="stylesheet" />
<script src="site_libs/crosstalk-1.0.0/js/crosstalk.min.js"></script>
<link href="site_libs/font-awesome-5.0.13/css/fa-svg-with-js.css" rel="stylesheet" />
<script src="site_libs/font-awesome-5.0.13/js/fontawesome-all.min.js"></script>
<script src="site_libs/font-awesome-5.0.13/js/fa-v4-shims.min.js"></script>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-122098274-2"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-122098274-2');
</script>


<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; background-color: #303030; color: #cccccc; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; }
td.sourceCode { padding-left: 5px; }
pre, code { color: #cccccc; background-color: #303030; }
code > span.kw { color: #f0dfaf; } /* Keyword */
code > span.dt { color: #dfdfbf; } /* DataType */
code > span.dv { color: #dcdccc; } /* DecVal */
code > span.bn { color: #dca3a3; } /* BaseN */
code > span.fl { color: #c0bed1; } /* Float */
code > span.ch { color: #dca3a3; } /* Char */
code > span.st { color: #cc9393; } /* String */
code > span.co { color: #7f9f7f; } /* Comment */
code > span.ot { color: #efef8f; } /* Other */
code > span.al { color: #ffcfaf; } /* Alert */
code > span.fu { color: #efef8f; } /* Function */
code > span.er { color: #c3bf9f; } /* Error */
code > span.wa { color: #7f9f7f; font-weight: bold; } /* Warning */
code > span.cn { color: #dca3a3; font-weight: bold; } /* Constant */
code > span.sc { color: #dca3a3; } /* SpecialChar */
code > span.vs { color: #cc9393; } /* VerbatimString */
code > span.ss { color: #cc9393; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { } /* Variable */
code > span.cf { color: #f0dfaf; } /* ControlFlow */
code > span.op { color: #f0efd0; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #ffcfaf; font-weight: bold; } /* Preprocessor */
code > span.at { } /* Attribute */
code > span.do { color: #7f9f7f; } /* Documentation */
code > span.an { color: #7f9f7f; font-weight: bold; } /* Annotation */
code > span.cv { color: #7f9f7f; font-weight: bold; } /* CommentVar */
code > span.in { color: #7f9f7f; font-weight: bold; } /* Information */
div.sourceCode {
  overflow-x: visible;
}
</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>


<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>

<link rel="stylesheet" href="my_style.css" type="text/css" />

</head>

<body>

<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 60px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 65px;
  margin-top: -65px;
}

.section h2 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h3 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h4 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h5 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h6 {
  padding-top: 65px;
  margin-top: -65px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>


<div class="container-fluid main-container">

<!-- tabsets -->
<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});
</script>

<!-- code folding -->
<style type="text/css">
.code-folding-btn { margin-bottom: 4px; }
</style>
<script>
$(document).ready(function () {
  window.initializeCodeFolding("show" === "show");
});
</script>




<script>
$(document).ready(function ()  {

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_').toLowerCase();
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}


.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
  padding-left: 25px;
  text-indent: 0;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>

<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row-fluid">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Noah C. Pollock</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">
    <span class="fa fa-home"></span>
     
    Home
  </a>
</li>
<li>
  <a href="about_me.html">
    <span class="fa fa-info-circle"></span>
     
    About Me
  </a>
</li>
<li>
  <a href="blog.html">
    <span class="fa fa-street-view"></span>
     
    Blog
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    <span class="fa fa-gear"></span>
     
    Dashboards
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li class="dropdown-header">Static</li>
    <li>
      <a href="flex_dash.html">R Markdown</a>
    </li>
    <li class="divider"></li>
    <li class="dropdown-header">Dynamic</li>
    <li>
      <a href="shiny_bi.html">BI with Shiny</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="resources.html">
    <span class="fa fa-key"></span>
     
    Resources
  </a>
</li>
<li>
  <a href="https://www.linkedin.com/in/noah-pollock-5b5804157/">
    <span class="fa fa-linkedin"></span>
     
  </a>
</li>
<li>
  <a href="https://github.com/ncpollock/">
    <span class="fa fa-github"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">

<div class="btn-group pull-right">
<button type="button" class="btn btn-default btn-xs dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span>Code</span> <span class="caret"></span></button>
<ul class="dropdown-menu" style="min-width: 50px;">
<li><a id="rmd-show-all-code" href="#">Show All Code</a></li>
<li><a id="rmd-hide-all-code" href="#">Hide All Code</a></li>
</ul>
</div>



<h1 class="title toc-ignore">Department of Ed API</h1>
<h4 class="author"><em>Noah Pollock</em></h4>
<h4 class="date"><em>December 10, 2018</em></h4>

</div>


<div id="scope" class="section level2">
<h2>Scope</h2>
<p>Learn to use the U.S. Department of Education API to capture data about higher education in the United States.</p>
</div>
<div id="introduction-and-prerequisites" class="section level2">
<h2>Introduction and Prerequisites</h2>
<p>The U.S. government provides lots of free data and not enough people know about it! Unfortunately, I too frequently encounter people and organizations paying for data that is freely available. In this post, we’ll learn to tap into the rich data available from the United States Department of Education (let’s shorten that to USDE from here on out) through their Application Programming Interface (API).</p>
<p>If you want to follow along, <a href="https://api.data.gov/signup/" target="_blank">go register for an API Key</a>, it only requires an email. An API Key is essentially a password that gives you access to the content.</p>
<p><a href="https://collegescorecard.ed.gov/data/documentation/" target="_blank">Open their API documentation</a> here as well for reference.</p>
<p><a href="flex_dash.html" target="_blank">Check out my rmarkdown dashboard</a> which visualizes data from the Department of Ed API.</p>
</div>
<div id="api-basics" class="section level2">
<h2>API Basics</h2>
<p>In the way we’re using it, an API is a set of tools and protocols for transfering data. The following link is straight from USDE API documentation, go ahead and click or copy and paste into a new tab <a href="https://api.data.gov/ed/collegescorecard/v1/schools?school.name=boston%20college" target="_blank">https://api.data.gov/ed/collegescorecard/v1/schools?school.name=boston%20college</a>.</p>
<p>Hooray! You just executed an API Get request. Rather unsuccessfully I might add. You should have received a message like the one below. The USDE API requires us to provie a key.</p>
<p><img src="images/api_missing_key.JPG" width="1901" /></p>
<p>If you obtained one already, try clicking on the link again, then adding <code>&amp;api_key=</code> then your full api key. You should then see something more along the lines of the screenshot below.</p>
<p><img src="images/api_success.JPG" width="1290" /></p>
<p>Now you have successfully sent a GET request to an API! The jumbled text on the page above is JavaScript Object Notation (JSON), a common, nay ubiquitous, format for storing and transfering data. A form of data storage you may have heard of is Comma Separated Values (CSV). In the same way CSV files have rules for how columns and rows and values are separated, JSON has rules too, they’re just different rules.</p>
<p>Anyways, you would <em>hopefully</em> never have to read JSON like it appears on this page and you would rarely make an API call by opening the link in a browser. Instead we’ll use the <code>jsonlite</code> package to call the API for us within R then we’ll coerce it into a dataframe.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#build your call</span>
call &lt;-<span class="st"> </span><span class="kw">paste0</span>(
  <span class="co"># this piece is known as the URL (and schools is the Endpoint)</span>
  <span class="st">&quot;https://api.data.gov/ed/collegescorecard/v1/schools?&quot;</span>,
  <span class="co"># here we tell the API we only want to see two variables</span>
    <span class="co"># school.name and undergraduate enrollment</span>
  <span class="st">&quot;fields=school.name,latest.student.size&quot;</span>,
  <span class="co"># now we pass a paramter, </span>
  <span class="co"># return only records for the school with a certain id</span>
  <span class="st">&quot;&amp;id=171571&quot;</span>
)
<span class="kw">print</span>(call)</code></pre></div>
<pre><code>## [1] &quot;https://api.data.gov/ed/collegescorecard/v1/schools?fields=school.name,latest.student.size&amp;id=171571&quot;</code></pre>
<p>Looks good, but we still need to add our key.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># add key to api call</span>
call &lt;-<span class="st"> </span><span class="kw">paste0</span>(call,<span class="st">&quot;&amp;api_key=&quot;</span>,my_api_key)

<span class="co"># send call to Ed API and get JSON back</span>
call_extract &lt;-<span class="st"> </span>jsonlite<span class="op">::</span><span class="kw">fromJSON</span>(call)

<span class="co"># coerce into a dataframe and print</span>
<span class="kw">data.frame</span>(call_extract)</code></pre></div>
<div class="kable-table">
<table>
<thead>
<tr class="header">
<th align="right">metadata.total</th>
<th align="right">metadata.page</th>
<th align="right">metadata.per_page</th>
<th align="left">results.school.name</th>
<th align="right">results.latest.student.size</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">1</td>
<td align="right">0</td>
<td align="right">20</td>
<td align="left">Oakland University</td>
<td align="right">16233</td>
</tr>
</tbody>
</table>
</div>
<p>You may notice that you get back a few more pieces than you ask for. This is metadata and it’s useful for understanding your API call and what information was returned. For example, there were a total of 1 record(s), the record return is on page 0, and that 20 records per page would have been returned had we asked for more records. Pagination is important to understand because if we asked for 100 records, we would have to ask for pages zero through 4 or change the number of records per page to get all of them.</p>
<p>To help alleviate some of the headache, I wrote a function below that builds the call and traverses all pages for us.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">ed_api &lt;-<span class="st"> </span><span class="cf">function</span>(<span class="dt">key =</span> my_api_key,
  <span class="dt">fields =</span> <span class="kw">c</span>(<span class="st">&quot;id&quot;</span>,<span class="st">&quot;location.lat&quot;</span>,<span class="st">&quot;location.lon&quot;</span>,<span class="st">&quot;school.name&quot;</span>,<span class="st">&quot;school.state&quot;</span>),
  <span class="dt">params =</span> <span class="st">&quot;school.state=MI&quot;</span>){
  
  <span class="kw">require</span>(jsonlite)
  
  endpoint =<span class="st"> &quot;schools&quot;</span>
  
  <span class="co"># collapse arguments by comma</span>
  fields =<span class="st"> </span><span class="cf">if</span>(<span class="op">!</span><span class="kw">is.null</span>(fields)) <span class="kw">paste0</span>(<span class="st">&quot;fields=&quot;</span>,<span class="kw">paste</span>(fields,<span class="dt">collapse=</span><span class="st">&quot;,&quot;</span>))
  params =<span class="st"> </span><span class="cf">if</span>(<span class="op">!</span><span class="kw">is.null</span>(params)) <span class="kw">paste0</span>(<span class="st">&quot;&amp;&quot;</span>,<span class="kw">paste</span>(params,<span class="dt">collapse=</span><span class="st">&quot;,&quot;</span>))
  
  url =<span class="st"> &quot;https://api.data.gov/ed/collegescorecard/v1/&quot;</span>
  call =<span class="st"> </span><span class="kw">paste0</span>(url,endpoint,<span class="st">&quot;?&quot;</span>,<span class="kw">paste</span>(fields,<span class="dt">collapse=</span><span class="st">&quot;,&quot;</span>),params,<span class="st">&quot;&amp;api_key=&quot;</span>,key)
  <span class="co"># print(call) # commented out so you can&#39;t see my API key!</span>
  
  <span class="co">#first call to ping number of pages, ie page=0</span>
  call_parsed &lt;-<span class="st"> </span><span class="kw">fromJSON</span>(call)
  ed_df &lt;-<span class="st"> </span><span class="kw">data.frame</span>(call_parsed)
  
  <span class="co"># find total pages</span>
  <span class="co"># 20 results per page by default</span>
  total_pages =<span class="st"> </span>call_parsed<span class="op">$</span>metadata<span class="op">$</span>total <span class="op">%/%</span><span class="st"> </span><span class="dv">20</span>
  
  <span class="co"># now call all the other pages and combine</span>
  <span class="cf">for</span>(page_num <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span>total_pages){
    <span class="co"># print(paste0(call,&quot;&amp;page=&quot;,page_num)) # so you can&#39;t see my API key!</span>
    call_parsed_paginated =<span class="st"> </span><span class="kw">fromJSON</span>(<span class="kw">paste0</span>(call,<span class="st">&quot;&amp;page=&quot;</span>,page_num))
    paginated_df &lt;-<span class="st"> </span><span class="kw">data.frame</span>(call_parsed_paginated)
    ed_df &lt;-<span class="st"> </span><span class="kw">rbind</span>(ed_df,paginated_df)
  }
  
  <span class="kw">return</span>(ed_df)
  
  <span class="co">#documentation</span>
  <span class="co">#https://collegescorecard.ed.gov/data/documentation/</span>
  
}</code></pre></div>
</div>
<div id="function-in-action" class="section level2">
<h2>Function in Action</h2>
<p>Now see the function in action. It takes character vectors for field names or for optional parameters and will require that you reference the data dictionary and tech documentation from USDE. Note that the defaul parameter is to search for schools in Michigan. To return all schools, set <code>params = NULL</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># identify fields to capture</span>
field_c &lt;-<span class="st"> </span><span class="kw">c</span>(
       <span class="st">&quot;id&quot;</span>,
       <span class="st">&quot;school.name&quot;</span>,
       <span class="st">&quot;school.state&quot;</span>,
       <span class="st">&quot;school.zip&quot;</span>,
       <span class="st">&quot;location.lat&quot;</span>,
       <span class="st">&quot;location.lon&quot;</span>,
       <span class="co"># total Undergraduate degree/certificate seeking enrollment</span>
       <span class="st">&quot;latest.student.size&quot;</span>, 
       <span class="co">#whether the institution is still in business</span>
       <span class="st">&quot;school.operating&quot;</span>)

<span class="co"># schools in Michigan</span>
test_<span class="dv">1</span> &lt;-<span class="st"> </span><span class="kw">ed_api</span>(<span class="dt">fields =</span> field_c)

<span class="kw">datatable</span>(test_<span class="dv">1</span>
          ,<span class="dt">rownames =</span> <span class="ot">FALSE</span>
          ,<span class="dt">options =</span> <span class="kw">list</span>(<span class="dt">scrollX =</span> <span class="ot">TRUE</span>))</code></pre></div>
<div id="htmlwidget-e4a3375c3418aa729109" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-e4a3375c3418aa729109">{"x":{"filter":"none","data":[[189,189,189,189,189,189,189,189,189,189,189,189,189,189,189,189,189,189,189,189,189,189,189,189,189,189,189,189,189,189,189,189,189,189,189,189,189,189,189,189,189,189,189,189,189,189,189,189,189,189,189,189,189,189,189,189,189,189,189,189,189,189,189,189,189,189,189,189,189,189,189,189,189,189,189,189,189,189,189,189,189,189,189,189,189,189,189,189,189,189,189,189,189,189,189,189,189,189,189,189,189,189,189,189,189,189,189,189,189,189,189,189,189,189,189,189,189,189,189,189,189,189,189,189,189,189,189,189,189,189,189,189,189,189,189,189,189,189,189,189,189,189,189,189,189,189,189,189,189,189,189,189,189,189,189,189,189,189,189,189,189,189,189,189,189,189,189,189,189,189,189,189,189,189,189,189,189,189,189,189,189,189,189,189,189,189,189,189,189],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,9,9,9,9,9,9,9,9,9],[20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20],["48341","48423","48911-5744","48858-2058","48640-2690","488679600","496019600","494421290","48334-1300","488215004","48228","49441","48609","490034070","486423799","48910","48150","49508","48377-2985","48901","48858","49829-2511","49546","49546-4387","48504-1523","49930-1832","49224","48075","48067-3219","48088-3896","48150-1176","48193","49104","48128-1495","49506-1801","48109","48221-3038","49017-3397","48334-4512","49307-2251","49022-1899","49783","48504-6214","48105","49509","48858","49512-9396","48824-1046","48502-1950","49855-5301","49686","49076","48206-1799","49512-1781","49008-5200","48152-2696","49715","48083","48439","48184","48603","48237","48823","48116","48060","48180-1866","49508","483269600","492021290","480601290","485071290","48127-2999","48084-5286","48228","480673825","495039121","48846","48313","49503","48187","48823-8660","48377","481704308","484308430","480925209","494239121","48033","49441","48060","49015","49829","48304-2266","48329","49085","48226","49242","49503-3295","49401-9403","48221-2599","48824-1300","48188","48708-5614","49006-3295","48197","48859","48503-2089","49938","48075-1058","48202","48204-2244","49931-1295","48625-9447","48161-9746","48033-4400","49770","48640-2398","48075-3953","48083-5066","48917","48507","49423-3622","49015","49221-2575","48066","49080-9254","49036","48912-4686","48076","49601","481019600","480359600","48116-8360","49908-0000","48075-5227","49456","48329","48603","48066","48238","49002","48073","48047","48201-3035","481529069","496849121","48060","489332197","48801-1599","48710","48917-1299","48307","49422-9000","48071","48195","49003-4070","48083","48653","48161","48504-4395","49032-9719","49544","48843","48309-4401","49525-9781","48105-4800","49454-0277","48710","49221","49707","48507-5508","49201-8399","48901-7210","48304","49525-5897","48128-1491","48885-9723","48091","49442-1432","49283-9799","48901","48071","48202","48061-5015","49047-9793","48204","48629-9702","48108-1411","49008","48180"],[42.643595,43.021829,42.666973,43.61137,43.641877,0,0,0,42.498205,0,42.49766,43.190304,43.416773,0,0,42.699106,42.38204,42.912191,42.499807,42.245222,43.607105,45.772586,42.929916,42.927951,43.072644,47.127868,42.245049,42.469188,42.479729,42.50599,42.384323,42.168682,41.963859,42.324639,42.96019,42.275921,42.414222,42.335638,42.491427,43.687724,42.097276,46.492849,43.012468,42.273157,42.919541,43.60429,42.850013,42.73212,43.01875,46.559751,44.765436,42.442891,42.375248,42.910707,42.282194,42.419279,46.454584,42.570337,42.912036,42.28171,43.469473,42.471924,42.734606,42.548468,43.024632,42.254745,42.880955,0,0,0,0,42.325986,42.556474,42.330658,0,0,42.941371,42.593439,42.961875,42.324442,42.772212,42.495506,0,0,0,0,42.480113,43.191474,42.97236,42.297776,45.766848,42.595441,42.700677,42.071099,42.327299,41.918718,42.967076,42.963001,42.414415,42.725733,42.286324,43.599758,42.290789,42.24694,43.591203,43.019941,46.471893,42.474072,42.361839,42.365023,47.11866,43.969586,41.91617,42.448286,45.361727,43.628717,42.459245,42.573888,42.741855,42.986442,42.786246,42.308774,41.898591,42.527764,42.504599,41.954596,42.73455,42.482261,44.251343,0,0,42.521018,46.782535,42.446331,43.075898,42.683352,43.47055,42.527764,42.399727,42.226492,42.525165,42.677429,42.344129,0,0,42.978839,0,43.38004,43.559491,42.754249,42.667521,42.787298,42.525318,42.213026,42.225948,42.53889,44.490753,41.907014,43.027339,41.892504,43.028642,42.586638,42.674573,43.02195,42.26361,44.008512,43.51176,41.905624,45.081647,42.974764,42.16483,42.737719,42.568904,42.979966,42.317287,43.253191,42.490388,43.250329,42.206568,42.731,42.508189,42.358994,42.979494,41.965095,42.376091,44.306036,42.25294,42.259329,42.194933],[-83.324631,-83.516551,-84.544481,-84.751095,-84.258017,0,0,0,-83.357682,0,-83.379921,-86.266315,-84.056382,0,0,-84.53728,-83.354741,-85.643208,-83.443117,-84.402897,-84.732485,-87.085228,-85.587548,-85.586439,-83.7363,-88.588756,-84.745639,-83.238529,-83.146008,-82.972377,-83.404722,-83.191212,-86.355815,-83.236056,-85.628785,-83.742769,-83.139158,-85.177329,-83.359575,-85.481925,-86.393445,-84.365573,-83.71282,-83.68268,-85.692077,-84.777927,-85.533519,-84.476111,-83.690276,-87.406568,-85.585517,-84.923891,-83.111682,-85.596605,-85.613759,-83.430958,-84.607089,-83.12734,-83.624526,-83.382299,-83.967884,-83.200754,-84.480467,-83.796918,-82.452984,-83.259322,-85.605379,0,0,0,0,-83.293187,-83.150516,-83.219356,0,0,-85.07224,-83.028804,-85.667065,-83.482675,-84.485246,-83.457358,0,0,0,0,-83.287169,-86.267098,-82.425714,-85.224127,-87.069482,-83.244787,-83.398624,-86.47655,-83.054497,-84.631429,-85.665625,-85.889826,-83.154109,-84.47352,-83.445507,-83.88895,-85.601857,-83.622501,-84.77525,-83.67243,-90.165592,-83.25003,-83.062352,-83.128883,-88.548092,-84.763715,-83.470274,-83.261379,-84.954183,-84.27682,-83.239309,-83.147197,-84.605807,-83.751751,-86.10324,-85.19696,-84.061481,-82.915541,-85.517049,-84.999189,-84.508781,-83.242621,-85.400684,0,0,-83.743486,-88.507761,-83.210617,-86.198004,-83.374733,-83.973056,-82.915541,-83.123793,-85.588652,-83.164514,-82.751334,-83.055266,0,0,-82.458848,0,-84.672053,-83.985943,-84.638714,-83.144959,-86.102089,-83.107631,-83.215663,-85.682144,-83.118801,-84.413388,-83.407005,-83.73911,-85.496929,-85.691067,-83.879987,-83.216418,-85.592657,-83.66559,-86.336122,-83.964273,-84.018841,-83.445069,-83.694679,-84.403942,-84.553315,-83.250681,-85.595328,-83.231417,-85.100181,-83.065551,-86.196384,-84.556074,-84.554429,-83.107692,-83.068998,-82.428717,-86.082715,-83.157878,-84.755687,-83.666667,-85.590244,-83.250307],["Dorsey Business Schools-Waterford Pontiac","Ross Medical Education Center-Davison","Dorsey Business Schools-Lansing","Protege Academy","Ross Medical Education Center-Midland","Baker College of Owosso","Baker College of Cadillac","Baker College of Muskegon","Paul Mitchell The School-Farmington Hills","Davenport University - Treasury Site Dimondale","Dorsey Business Schools-Farmington Hills","Nuvo College of Cosmetology","In Session Arts of Cosmetology Beauty School","Davenport University-Kalamazoo Location","Davenport University-Midland Location","Career Quest Learning Centers-Lansing","L'esprit Academy","International Cosmetology Academy","The Art Institute of Michigan","Career Quest Learning Centers-Jackson","Saginaw Chippewa Tribal College","Bay de Noc Community College","Calvin College","Calvin Theological Seminary","Creative Hair School of Cosmetology","Finlandia University","Albion College","Northwestern Technological Institute","David Pressley School of Cosmetology","Macomb Community College","Madonna University","Detroit Business Institute-Downriver","Andrews University","Henry Ford College","Aquinas College","University of Michigan-Ann Arbor","University of Detroit Mercy","Kellogg Community College","Michigan School of Professional Psychology","Ferris State University","Lake Michigan College","Lake Superior State University","Kettering University","Concordia University-Ann Arbor","Grace Bible College","M J Murphy Beauty College of Mount Pleasant","Davenport University","Michigan State University","University of Michigan-Flint","Northern Michigan University","Northwestern Michigan College","Olivet College","Sacred Heart Major Seminary","Paul Mitchell the School-Grand Rapids","Western Michigan University","Schoolcraft College","Bay Mills Community College","Michigan College of Beauty-Troy","Sharps Academy of Hair Styling","Dorsey Business Schools-Wayne","Ross Medical Education Center-Saginaw","Yeshiva Gedolah of Greater Detroit","Douglas J Aveda Institute","Ross Medical Education Center-Brighton","Ross Medical Education Center-Port Huron","Taylortown School of Beauty Inc","Ross Medical Education Center-Kentwood","Baker College of Auburn Hills","Baker College of Jackson","Baker College of Port Huron","Baker College Center for Graduate Studies","Princess Beauty School","Chamberlain University-Michigan","Dorsey Business Schools-Dearborn","L'esprit Academy - Royal Oak","Davenport University-Grand Rapids Downtown","School of Missionary Aviation Technology","Paul Mitchell the School-Michigan","Compass College of Cinematic Arts","Ross Medical Education Center-Canton","Protege Academy","South University-Novi","Moody Theological Seminary and Graduate School--Michigan","Davenport University-Flint Location","Davenport University-Warren Location","Davenport University-Holland Location","Irene's Myomassology Institute","Ross Medical Education Center-Roosevelt Park","Lakewood School of Therapeutic Massage","The Salon Professional Academy","Paul Mitchell the School-Escanaba","Oakland Community College","Port Huron Cosmetology College","Twin City Beauty College","Wayne County Community College District","Hillsdale Beauty College","Grand Rapids Community College","Grand Valley State University","Marygrove College","Michigan State University-College of Law","MIAT College of Technology","Bayshire Academy of Beauty Craft Inc","Kalamazoo College","Eastern Michigan University","Central Michigan University","Mott Community College","Gogebic Community College","Lawrence Technological University","College for Creative Studies","Michigan Barber School Inc","Michigan Technological University","Mid Michigan Community College","Monroe County Community College","Altierus Career Education-Southfield","North Central Michigan College","Northwood University","Specs Howard School of Media Arts","Walsh College of Accountancy and Business Administration","Ross Medical Education Center-Lansing","Ross Medical Education Center-Flint","Western Theological Seminary","Wright Beauty Academy","Adrian College","Dorsey Business Schools-Roseville","Michigan Career and Technical Institute","Salon Academy","Paul Mitchell the School-Lansing","University of Phoenix-Michigan","Cadillac Institute of Cosmetology","Baker College of Allen Park","Baker College of Clinton Township","Brighton Institute of Cosmetology","Keweenaw Bay Ojibwa Community College","Abcott Institute","French Academy of Cosmetology","Marketti Academy of Cosmetology","Dorsey Business Schools-Saginaw","Dorsey Business Schools-Roseville Culinary Academy","Focus-Hope Information Technologies Center","Ross Medical Education Center-Portage","Elevate Salon Institute","Ross Medical Education Center-New Baltimore","Ecumenical Theological Seminary","Davenport University-Livonia Location","Davenport University-Traverse City Location","Paul Mitchell the School-Great Lakes","Davenport University-Lansing Location","Alma College","Delta College","Great Lakes Christian College","Rochester College","Hope College","Dorsey Business Schools-Madison Heights","Dorsey Business Schools-Southgate","Kalamazoo Valley Community College","Carnegie Institute","Kirtland Community College","Michigan College of Beauty-Monroe","Flint Institute of Barbering Inc","Glen Oaks Community College","Empire Beauty School-Michigan","Cleary University","Oakland University","Kuyper College","Washtenaw Community College","West Shore Community College","Saginaw Valley State University","Siena Heights University","Alpena Community College","Baker College","Jackson College","Lansing Community College","Cranbrook Academy of Art","Cornerstone University","University of Michigan-Dearborn","Montcalm Community College","Mr Bela's School of Cosmetology Inc","Muskegon Community College","Spring Arbor University","Western Michigan University-Thomas M. Cooley Law School","Ross Medical Education Center-Madison Heights","Wayne State University","St Clair County Community College","Southwestern Michigan College","P&amp;A Scholars Beauty School","Houghton Lake Institute of Cosmetology","Ross Medical Education Center-Ann Arbor","West Michigan College of Barbering and Beauty","Ross Medical Education Center-Taylor"],["MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI","MI"],[458380,460093,481599,487083,488970,16884701,16884704,16884707,484093,16947921,455549,447980,444653,16947904,16947907,446136,457633,455053,451796,454306,441070,168883,169080,169099,169813,172440,168546,168573,169503,170790,170806,169576,168740,170240,168786,170976,169716,170550,169220,169910,170620,170639,169983,169363,170000,170736,169479,171100,171146,171456,171483,171599,172033,172680,172699,172200,380359,381370,391759,247153,247409,247773,261436,261676,363013,261719,365833,16884703,16884706,16884709,16884710,486327,486947,483504,45763301,16947920,480727,449977,459417,460127,461944,468024,14736901,16947910,16947903,16947909,443137,365824,451291,451307,171465,171535,171775,172495,172635,168555,170055,170082,170842,169628,169655,168892,170532,169798,169248,169275,169992,170675,169442,171012,171128,171155,171225,171322,171395,171492,172325,172608,171988,172015,172705,172802,168528,250744,172422,414054,484118,484695,169071,16884702,16884705,477002,461315,461892,455062,457642,460482,455558,455035,456515,451282,452072,247162,16947918,16947912,446288,16947905,168591,169521,170091,170967,170301,169734,169761,170541,169187,170587,170611,169947,169974,169284,169327,171571,171881,172617,172671,172051,172264,168607,168847,170444,170657,169424,170037,171137,171234,171261,171304,172334,172477,171997,172644,172291,172307,391005,421665,261685,152044,367158],[159,139,62,44,73,null,null,null,18,null,13,97,72,null,null,299,131,39,676,150,117,1422,3722,null,25,475,1393,468,197,16543,2463,44,1478,10957,1549,28761,2530,3627,null,12006,2863,2063,1865,764,957,58,5398,38851,5827,6983,3724,986,277,66,17984,10145,426,268,35,196,135,61,787,90,56,147,188,null,null,null,null,19,304,332,null,null,25,204,132,108,48,303,null,null,null,null,253,187,17,58,32,10135,63,249,11747,32,13244,22081,487,null,672,38,1417,17025,19551,6817,793,2164,1377,32,5739,2644,1708,577,1620,2987,461,912,120,167,null,59,1621,389,224,82,47,277,21,null,null,44,89,94,48,57,159,130,46,182,47,98,17,null,null,85,null,1414,7911,133,986,3083,374,116,7148,176,1114,140,38,634,250,472,16233,201,10038,925,7913,2289,1104,19247,4509,12673,null,1856,6886,1346,64,3441,2109,null,188,16671,2518,1807,341,17,92,29,68],[1,1,0,1,1,1,1,1,1,0,0,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,0,1,1,1,1,1,1,1,1,1,0,1,1,1,1,0,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,1,1,0,1,1,1]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>metadata.total<\/th>\n      <th>metadata.page<\/th>\n      <th>metadata.per_page<\/th>\n      <th>results.school.zip<\/th>\n      <th>results.location.lat<\/th>\n      <th>results.location.lon<\/th>\n      <th>results.school.name<\/th>\n      <th>results.school.state<\/th>\n      <th>results.id<\/th>\n      <th>results.latest.student.size<\/th>\n      <th>results.school.operating<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"scrollX":true,"columnDefs":[{"className":"dt-right","targets":[0,1,2,4,5,8,9,10]}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># school name and most recent UG student size</span>
  <span class="co"># for schools that had between 100 and 102 UG students in 2013</span>
test_<span class="dv">2</span> &lt;-<span class="st"> </span><span class="kw">ed_api</span>(
  <span class="dt">fields =</span> <span class="kw">c</span>(<span class="st">&quot;school.name&quot;</span>,<span class="st">&quot;latest.student.size&quot;</span>)
  ,<span class="dt">params =</span> <span class="st">&quot;2013.student.size__range=100..102&quot;</span>)

<span class="kw">datatable</span>(test_<span class="dv">2</span>
          ,<span class="dt">rownames =</span> <span class="ot">FALSE</span>
          ,<span class="dt">options =</span> <span class="kw">list</span>(<span class="dt">scrollX =</span> <span class="ot">TRUE</span>))</code></pre></div>
<div id="htmlwidget-d3343259124be69bfed8" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-d3343259124be69bfed8">{"x":{"filter":"none","data":[[27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1],[20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20],["Futura Career Institute","Colton-Redlands-Yucaipa Regional Occupational Program","The Barber School","La James International College-Johnston","Empire Beauty School-Green Bay","Stylemaster College of Hair Design","Maryland Beauty Academy of Essex","Prince Institute-Southeast","Lowell Academy Hairstyling Institute","Ilisagvik College","Somerset County Technology Center","Montana Academy of Salons","Woodruff Medical Training and Testing","The Salon Professional Academy-St Charles","Cortiva Institute-Seattle","Innovate Salon Academy","Empire Beauty School-Lauderhill","Escuela De Troqueleria Y Herramentaje","The Ohio Media School-Columbus","Delta College Inc","Paramount Beauty Academy","Jolie Hair and Beauty Academy-Ludlow","Xenon International Academy-Denver","Evergreen Beauty and Barber College-Bellevue","Northwest College-Beaverton","International Technical College","Northeast Technology Center-Pryor"],[236,23,139,94,34,78,100,10,156,69,63,69,86,108,150,111,77,88,83,198,51,44,60,46,86,106,109]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>metadata.total<\/th>\n      <th>metadata.page<\/th>\n      <th>metadata.per_page<\/th>\n      <th>results.school.name<\/th>\n      <th>results.latest.student.size<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"scrollX":true,"columnDefs":[{"className":"dt-right","targets":[0,1,2,4]}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># all schools, over 7,000! </span>
<span class="co"># Obviously i&#39;m not going to run this for this post.</span>
<span class="co"># api_df &lt;- ed_api(fields = field_c,params = NULL)</span></code></pre></div>
</div>

  </div> <!-- articleBandContent -->
</div> <!-- pageContent -->
</div> <!-- floating toc -->
</div>

<footer id="site-footer">
  <div class="col-md-4">
  
<div class="polaroid rotate_right">
  <img src="images/wife_and_i.jpg" alt="My wifte and I." width="115" >
  <p class="caption">My wife and I at a friend's wedding.</p>
</div>

<div class="polaroid rotate_left">
  <img src="images/dogs.jpg" alt="Our dogs Bambi and Lexi" width="115">
  <p class="caption">Our furry children, Bambi and Lexi.</p>
</div>
  </div>
    <div class="col-md-4">
      Connect with me: <br>
      <a href="https://www.linkedin.com/in/noah-pollock-5b5804157/">
        <i class="fa fa-linkedin-square fa-lg"></i> Linkedin 
      </a>
      <br>
      <a href="https://github.com/ncpollock/">
        <i class="fa fa-github-square fa-lg"></i> GitHub 
      </a>
  </div>
    <div class="col-md-4">
      <a href="https://www.google.com/" target="_blank">
        <i class="fa fa-question-circle fa-lg"></i> Help 
      </a>
  </div>
</footer>


</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
